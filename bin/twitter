#!/usr/bin/env node

var commander = require( 'commander' );
var OAuth     = require( 'oauth' ).OAuth;
var key       = require( '../config.json' );

var twitterOAuth = new OAuth(
	'https://api.twitter.com/oauth/request_token',
	'https://api.twitter.com/oauth/access_token',
	key.consumer.key,
	key.consumer.secret,
	'1.0A',
	null,
	'HMAC-SHA1' );

twitterOAuth.get(
	'https://api.twitter.com/1.1/trends/place.json?id=23424977',
	key.token.key,
	key.token.secret,
	function ( error, data, response, body ) {
		if ( !error && response.statusCode === 200 ) {
			console.log( data );
			console.log( body );
		} else {
			console.log( error );
		}
	} );

commander
	.version( '0.0.0' )

commander
	.command( 'hi' )
	.description( 'Prints hi' )
	.action( function() {
		console.log( 'Hi' );
	} );

commander.parse( process.argv );
